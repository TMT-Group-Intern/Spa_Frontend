<!-- display of doctor -->
<div class="flex flex-row bg-gray-200 h-full">
  <div class="basis-1/4 border p-4 rounded-10 bg-white">
    <div class="w-full h-full p-2 rounded-10 bg-white">
        <span class="p-4 text-heading-2">Tiếp nhận tư vấn</span>
        <div class="overflow-y-auto mt-3" style="max-height: 570px">
          <tds-card *ngFor="let appoint of reception" class="border rounded-20 mb-2">
            <!-- Card Header -->
            <tds-card-header class="bg-green-success-200 text-white">
              <div class="flex justify-between">
                <p tds-typography tdsEllipsis>{{appoint.Customer.FirstName}} {{appoint.Customer.LastName}}</p>
                <tds-tag status='custom' class="bg-success-400">{{appoint.Status}}</tds-tag>
              </div>
            </tds-card-header>
            <!-- Card content -->
            <tds-card-content class="px-3">
              <p><i class="tdsi-earpiece-fill text-green-success-300"></i> {{appoint.Doctor}}</p>
              <div class="flex justify-between">
                <p>
                  <i class="tdsi-time-fill text-green-success-300"></i>
                  {{appoint.AppointmentDate | date:'HH:mm'}}
                </p>
                <p>
                  <i class="tdsi-call-fill text-green-success-300"></i>
                  {{ appoint.Customer.Phone }}
                </p>
              </div>
            </tds-card-content>
            <hr />
            <!-- Card button -->
            <tds-card-actions>
              <div class="flex space-x-2 justify-end">
              <button tds-button-icon class="tdsi-bullets-fill" (click)="callmodalServiceAppointment(appoint.AppointmentID)"
                color="secondary" tds-tooltip tooltipTitle="Chọn dịch vụ">
              </button>
                <button class="tdsi-id-card-fill" (click)="userFrofile(appoint.AppointmentID);getHistory(appoint.CustomerID)" tds-button-icon
                  color="secondary" tds-tooltip tooltipTitle="Thông tin">
                </button>
              </div>
            </tds-card-actions>
          </tds-card>
        </div>
    </div>
  </div>
  <div class="basis-3/4 border p-4 rounded-10 bg-white ml-2">
    <div *ngIf="dataAppointmentbyid ; else nodata" >
      <div class="ml-2 p-2 flex flex-col">
        <div class="bg-white p-6 rounded-lg shadow-md max-w-md">
          <span class="block text-lg font-semibold text-gray-700 mb-2">
              Họ tên: {{dataAppointmentbyid.Customer.FirstName + ' ' + dataAppointmentbyid.Customer.LastName}}
          </span>
          <span class="block text-lg font-semibold text-gray-700 mb-2">
              Số điện thoại: {{dataAppointmentbyid.Customer.Phone}}
          </span>
          <span class="block text-lg font-semibold text-gray-700 mb-2">
              Ngày sinh: {{dataAppointmentbyid.Customer.DateOfBirth | date:'dd/MM/YYYY'}}
          </span>
          <span *ngIf="dataAppointmentbyid.Customer.Gender ==='Male'? 'Nam':'Nữ' " class="block text-lg font-semibold text-gray-700 mb-2">
              Giới tính: {{dataAppointmentbyid.Customer.Gender}}
          </span>
      </div>
      </div>
      <div class="mt-2 border-t border-solid">
        <span class="m-2 text-heading-3">Lịch sử điều trị </span>
        <div class="overflow-y-auto max-h-[400px]">
          <div id="id" *ngFor="let history of serviceHistory" class="flex border rounded-10 m-2 ">
            <div class="flex items-center w-[600px] overflow-y-auto">
              <div class="flex m-4 rounded-10" *ngIf="history.photoCustomer.length > 0; else noImage">
                <img *ngFor="let image of history.photoCustomer" tds-image width="150px" height="150px"
                  [tdsSrc]="'https://localhost:44305/photos/' + image" alt="Image" />
              </div>
              <ng-template #noImage>
                <span class="flex items-center justify-center h-full w-full text-gray-800">
                  <tds-empty></tds-empty>
                </span>
              </ng-template>
            </div>
            <div class="w-[200px] flex-col float-right m-4">
              <tds-label>Ngày tạo:
                <div class="text-primary-1"> {{ history.date | date:'dd/MM/YYYY hh:mm' }}</div>
              </tds-label>
              <tds-label>Dịch vụ:
                <div *ngIf="history.serviceUsed.length > 0; else noservice">
                  <tds-success *ngFor="let service of history.serviceUsed">{{ service }}</tds-success>
                </div>
              </tds-label>
              <ng-template #noservice>
                <span>Chưa có</span>
              </ng-template>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ng-template #nodata>
      <div class="flex justify-center items-center" style="height: 650px">
        <tds-empty></tds-empty>
      </div>
    </ng-template>
  </div>
  </div>

