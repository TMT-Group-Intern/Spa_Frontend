<form class="py-2 flex" id="idform" [formGroup]="form" autocomplete="off">
  <div class="w-[50%] mr-2">
    <!-- Phone -->
    <div *ngIf="!isHide1" class="flex items-center justify-between">
      <tds-label class="w-[30%]" [tdsRequired]="true">Số điện thoại</tds-label>
      <div class="flex w-[70%] items-center">
        <tds-form-field class="my-2 w-full">
          <tds-select [serverSearch]="true" valueField="customerID" textField="phone" autocomplete="off"
            placeholder="0123456789" class="appearance-none w-full" formControlName="customer" [data]="dataCustomer"
            [allowClear]="true" [valuePrimitive]="false" [allowSearch]="true" (onSearch)="searchPhone$.next($event)">
            <ng-template tds-option-tmp let-label='label' let-item="item" let-value='value' let-selected="selected">
              <span [ngClass]="{'text-primary-1':selected}">
                {{item.firstName}} {{item.lastName}}
              </span>
            </ng-template>
          </tds-select>
          <!-- Display error -->
          <tds-error>
            <span *ngIf="form.controls['phone'].hasError('required')">Your <strong>phone number</strong> cannot be
              empty!</span>
            <span *ngIf="form.controls['phone'].hasError('pattern')">Your <strong>phone number</strong> must start with
              0
              and
              have 10
              digits!</span>
          </tds-error>
        </tds-form-field>
        <!-- New Customer -->
        <button tds-button-icon color="success" class="ml-2"
          (click)="createCustomer(form.value.phone)" tds-tooltip="Thêm khách hàng">
          <i class="tdsi-plus-fill"></i>
        </button>
      </div>
    </div>
    <!--  -->
    <div *ngIf="!isHide2" class="flex items-center justify-between">
      <tds-label class="w-[30%]">Số điện thoại</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <input tdsInput autocomplete="off" formControlName="phone" class="appearance-none w-full" type="text" />
      </tds-form-field>
    </div>

    <!-- Full name -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Họ tên</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <input tdsInput autocomplete="off" formControlName="name" class="appearance-none w-full" type="text" />
      </tds-form-field>
    </div>

    <!-- Branch -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Chi nhánh</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <input tdsInput autocomplete="off" formControlName="branch" class="appearance-none w-full" type="text" />
      </tds-form-field>
    </div>
  </div>
  <div class="50% ml-2">

    <!-- Doctor -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Bác sĩ</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <tds-select valueField="id" textField="name" placeholder='---' [data]="doctorOptions" formControlName="doctor">
        </tds-select>
      </tds-form-field>
    </div>

    <!-- Date & Time -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]" [tdsRequired]="true">Thời gian</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <tds-date-picker showTime [disabledDate]="disabledDate" [format]="'dd/MM/YYYY hh:mm'" formControlName="appointmentDate"></tds-date-picker>
        <tds-error>
          <span>Your <strong>date & time</strong> cannot be empty!</span>
        </tds-error>
      </tds-form-field>
    </div>

    <!-- Status -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Trạng thái</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <tds-select placeholder='---' [data]="statusOptions" formControlName="status">
        </tds-select>
      </tds-form-field>
    </div>
  </div>
</form>

<!-- <form novalidate [formGroup]="form" class="bg-white dark:bg-d-neutral-3-100 rounded p-4">
  <div class="flex flex-col gap-4 pt-4">
    <div class="grid grid-cols-2 gap-12">
      <div class="flex-row space-y-2">
        <div class="grid grid-cols-3 gap-2">
          <div class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="loaiThu">Loại thu</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2">
              <tds-form-field class="w-full col-span-2">
                <tds-select valueField="name" textField="name" placeholder='Chọn loại thu'
                    disabledField="isActive"  [data]=""
                    formControlName="loaiThu">
                </tds-select>
                <tds-error>Vui lòng chọn loại thu</tds-error>
              </tds-form-field>
              <div class="h-34 mt-px">
                <button tds-button-icon color="primary" size="sm">
                  <span class="flex items-center justify-center">
                      <i class="tdsi-plus-fill"></i>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2">
          <div class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="phuongThuc">Phương thức</tds-label>

          </div>
          <div class="col-span-2">
            <div class="flex space-x-2">
              <tds-form-field class="w-full col-span-2">
                <tds-select valueField="name" textField="name" placeholder='Chọn phương thức'
                    disabledField="isActive"  [data]=""
                    formControlName="phuongThuc">
                </tds-select>
                <tds-error>Vui lòng chọn phương thức</tds-error>
              </tds-form-field>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2">
          <div  class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="soTien">Số tiền</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2">
              <tds-form-field class="w-full col-span-2">
                <tds-input-number
                    placeholder="Nhập số tiền" formControlName="soTien">
                </tds-input-number>
                <tds-error>Vui lòng nhập số tiền</tds-error>
              </tds-form-field>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2 ">
          <div class="h-8 flex items-center" >
            <tds-label [tdsRequired]="true" tdsFor="noiDung">Nội dung</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2">
              <tds-form-field class="w-full col-span-2">
                <input tdsInput autocomplete="off" placeholder="Hóa đơn, chứng từ giao dịch"
                    formControlName="noiDung"  />
                <tds-error>Vui lòng chọn nội dung</tds-error>
              </tds-form-field>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2">
          <div  class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="ngay">Ngày</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2 ">
              <tds-form-field class="w-full col-span-2">
                <tds-date-picker  formControlName="ngay">
                </tds-date-picker>
                <tds-error>Vui lòng chọn ngày</tds-error>
              </tds-form-field>
            </div>
          </div>
        </div>
      </div>
      <div class="flex-row space-y-2">
        <div class="grid grid-cols-3 gap-2 ">
          <div  class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="nguoiNop">Người nộp</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2 ">
              <tds-form-field class="w-full col-span-2">
                <div tdsAddOnRight><i class="tdsi-search-fill text-xl leading-none"></i></div>
                <input tdsInput placeholder="Chọn người nộp"  formControlName="nguoiNop" />
                <tds-error>Vui lòng chọn người nộp</tds-error>
              </tds-form-field>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2">
          <div  class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="dienThoai">Điện thoại</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2 ">
              <tds-form-field class="w-full col-span-2">
                <input tdsInput autocomplete="off" placeholder="Nhập số điện thoại"
                    minlength="10" maxlength="10"
                    formControlName="dienThoai" />
                <tds-error></tds-error>
              </tds-form-field>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2 ">
          <div  class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="diaChi">Địa chỉ</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2">
              <tds-form-field class="w-full col-span-2">
                <input tdsInput autocomplete="off" placeholder="Nhập địa chỉ" formControlName="diaChi"  />
                <tds-error>Vui lòng nhập địa chỉ</tds-error>
              </tds-form-field>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2 ">
          <div class="h-8 flex items-center">
            <tds-label [tdsRequired]="true" tdsFor="nguoiLH">Người liên hệ</tds-label>
          </div>
          <div class="col-span-2">
            <div class="flex space-x-2">
              <tds-form-field class="w-full col-span-2">
                <tds-select valueField="name" textField="name" placeholder='Chọn người liên hệ'
                    disabledField="isActive"  [data]=""
                    formControlName="nguoiLH">
                </tds-select>
                <tds-error>Vui lòng chọn người liên hệ</tds-error>
              </tds-form-field>
              <div class="h-34 mt-px">
                <button tds-button-icon color="primary" size="sm">
                  <span class="flex items-center justify-center">
                      <i class="tdsi-plus-fill"></i>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form> -->

<ng-container *tdsModalFooter>
  <div class="p-4 flex flex-row-reverse">
    <button tds-button form="idform" (click)="submit()" color="success" class="w-[100px] rounded">
      Lưu
    </button>
  </div>
</ng-container>
