<form class="py-2 flex" id="idform" [formGroup]="form" autocomplete="off">
  <div class="w-[50%] mr-2">
    <!-- Phone -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]" [tdsRequired]="true">Số điện thoại</tds-label>
      <div class="flex w-[70%] items-center">
        <tds-form-field class="my-2 w-full">
          <tds-select [serverSearch]="true" valueField="customerID" textField="phone" autocomplete="off"
            placeholder="0123456789" class="appearance-none w-full" formControlName="customer" [data]="dataCustomer"
            [allowClear]="true" [valuePrimitive]="false" [allowSearch]="true" (onSearch)="searchPhone$.next($event)">
            <ng-template tds-option-tmp let-label='label' let-item="item" let-value='value' let-selected="selected">
              <span [ngClass]="{'text-primary-1':selected}">
                {{item.firstName}} {{item.lastName}}
              </span>
            </ng-template>
          </tds-select>

          <!-- Display error -->
          <tds-error>
            <span *ngIf="form.controls['phone'].hasError('required')">Your <strong>phone number</strong> cannot be
              empty!</span>
            <span *ngIf="form.controls['phone'].hasError('pattern')">Your <strong>phone number</strong> must start with
              0
              and
              have 10
              digits!</span>
          </tds-error>
        </tds-form-field>
        <button tds-button-icon color="success" class="border-none tdsi-plus-fill ml-2"
          (click)="createCustomer(form.value.phone)" tds-tooltip="Thêm khách hàng">
        </button>
      </div>
    </div>

    <!-- Full name -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Họ tên</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <input tdsInput autocomplete="off" formControlName="name" class="appearance-none w-full" type="text" />
      </tds-form-field>
    </div>
    <!-- Branch -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Chi nhánh</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <input tdsInput autocomplete="off" formControlName="branch" class="appearance-none w-full" type="text" />
      </tds-form-field>
    </div>
  </div>
  <div class="50% ml-2">
    <!-- Doctor -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Bác sĩ</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <tds-select valueField="id" textField="name" placeholder='---' [data]="doctorOptions" formControlName="doctor">
        </tds-select>
      </tds-form-field>
    </div>
    <!-- Date & Time -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]" [tdsRequired]="true">Choose date & time</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <tds-date-picker showTime [disabledDate]="disabledDate" formControlName="appointmentDate"></tds-date-picker>
        <tds-error>
          <span>Your <strong>date & time</strong> cannot be empty!</span>
        </tds-error>
      </tds-form-field>
    </div>
    <!-- Status -->
    <div class="flex items-center justify-between">
      <tds-label class="w-[30%]">Trạng thái</tds-label>
      <tds-form-field class="my-2 w-[70%]">
        <tds-select placeholder='---' [data]="statusOptions" formControlName="status">
        </tds-select>
      </tds-form-field>
    </div>
  </div>
</form>

<ng-container *tdsModalFooter>
  <div class="p-4 flex flex-row-reverse">
    <button tds-button form="idform" (click)="submit()" color="success" class="w-[100px] rounded">
      Lưu
    </button>
  </div>
</ng-container>
